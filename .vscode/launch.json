{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Python: Current File",
            "type": "debugpy",
            "request": "launch",
            "program": "${file}",
            "console": "integratedTerminal",
            "justMyCode": false
        },
        {
            "name": "Run YASA",
            "type": "debugpy",
            "request": "launch",
            "program": "mayo_spindles/run_yasa.py",
            "console": "integratedTerminal",
            "justMyCode": false
        },
        {
            "name": "Perform Analysis",
            "type": "debugpy",
            "request": "launch",
            "program": "mayo_spindles/perform_analysis.py",
            "console": "integratedTerminal",
            "justMyCode": false
        },
        {
            "name": "Visualization (ours, val)",
            "type": "debugpy",
            "request": "launch",
            "program": "mayo_spindles/visualizer.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "--data", "hdf5_data",
                "--split", "val"
            ]
        },
        {
            "name": "Visualization (ours, val , corrected)",
            "type": "debugpy",
            "request": "launch",
            "program": "mayo_spindles/visualizer.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "--data", "hdf5_data_corrected",
                "--split", "val"
            ]
        },
        {
            "name": "Visualization (DREAMS, any, val)",
            "type": "debugpy",
            "request": "launch",
            "program": "mayo_spindles/visualizer.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "--data", "DREAMS_HDF5",
                "--annotator_spec", "any",
                "--split", "val"
            ]
        },
        {
            "name": "Visualization (DREAMS, any, test)",
            "type": "debugpy",
            "request": "launch",
            "program": "mayo_spindles/visualizer.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "--data", "DREAMS_HDF5",
                "--annotator_spec", "any",
                "--split", "test"
            ]
        },
        {
            "name": "Training (ours, agg=1)",
            "type": "debugpy",
            "request": "launch",
            "program": "mayo_spindles/run.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": ["--model", "cdil", "--data", "hdf5_data", "--epochs", "5", "--batch_size", "16", "--mode", "detection_only", "--aggregate_runs", "1"]
        },
        {
            "name": "Training (ours, agg=2)",
            "type": "debugpy",
            "request": "launch",
            "program": "mayo_spindles/run.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": ["--model", "cdil", "--data", "hdf5_data", "--epochs", "5", "--batch_size", "16", "--mode", "detection_only", "--aggregate_runs", "2"]
        },
        {
            "name": "Training (ours, optuna)",
            "type": "debugpy",
            "request": "launch",
            "program": "mayo_spindles/run.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": ["--model", "cdil", "--data", "hdf5_data", "--epochs", "5", "--batch_size", "16", 
                    "--optuna_study", "smoke-local-test",
                    "--optuna_timeout", "300",
                    "--optuna_params",
                        "mode@categorical@detection_only,shared_bottleneck,separate_bottleneck",
                        "hidden_size@int@50@70"
            ],
            "env": {
                "POSTGRES_PW": "31optuna42rocks",
            }
        },
        {
            "name": "Training (DREAMS)",
            "type": "debugpy",
            "request": "launch",
            "program": "mayo_spindles/run.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": ["--model", "cdil", "--data", "DREAMS_HDF5", "--epochs", "5", "--batch_size", "16", "--annotator_spec", "1"]
        },
        {
            "name": "Training (smoke)",
            "type": "debugpy",
            "request": "launch",
            "program": "mayo_spindles/run.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": ["--model", "cdil", "--data", "hdf5_data", "--smoke"]
        },
        {
            "name": "Export Dataset",
            "type": "debugpy",
            "request": "launch",
            "program": "mayo_spindles/export_hdf5_dataset.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": ["--data_dir", "data", "--output_dir", "hdf5_data", "--duration", "30", "--seed", "42"]
        },
        {
            "name": "Test training visualizer",
            "type": "debugpy",
            "request": "launch",
            "program": "mayo_spindles\\training_visualizer.py",
            "console": "integratedTerminal",
            "justMyCode": false,
        },
        {
            "name": "Annotate",
            "type": "debugpy",
            "request": "launch",
            "program": "mayo_spindles/annotate.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "--data_path", "hdf5_data",
                "--checkpoint_path", "checkpoints/spindle-detector-epoch=18-val_AUC_avg=0.92.ckpt",
                "--filter_bandwidth", "True",
                "--model", "cdil",
                "--avg_window_size", "3",
            ]
        },
        {
            "name": "Active learning: build merged annotations",
            "type": "debugpy",
            "request": "launch",
            "program": "mayo_spindles/active_learning_backfill.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "--data_dir", "data",
                "--al_annotations_dir", "activelearning_annotations"
            ]
        },
        {
            "name": "Compute dataset statistics (ours)",
            "type": "debugpy",
            "request": "launch",
            "program": "mayo_spindles/dataset_stats.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "--data", "hdf5_data",
            ]
        },
        {
            "name": "Compute dataset statistics (DREAMS, all)",
            "type": "debugpy",
            "request": "launch",
            "program": "mayo_spindles/dataset_stats.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "--data", "DREAMS_HDF5",
                "--annotator_spec", "all"
            ]
        },
        {
            "name": "Compute dataset statistics (DREAMS, any)",
            "type": "debugpy",
            "request": "launch",
            "program": "mayo_spindles/dataset_stats.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "--data", "DREAMS_HDF5",
                "--annotator_spec", "any"
            ]
        },
        {
            "name": "Compute dataset statistics (DREAMS, 1)",
            "type": "debugpy",
            "request": "launch",
            "program": "mayo_spindles/dataset_stats.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "--data", "DREAMS_HDF5",
                "--annotator_spec", "1"
            ]
        },
        {
            "name": "Compute dataset statistics (DREAMS, 2)",
            "type": "debugpy",
            "request": "launch",
            "program": "mayo_spindles/dataset_stats.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "--data", "DREAMS_HDF5",
                "--annotator_spec", "2"
            ]
        },
        {
            "name": "Export tex tables (ours, tagger model)",
            "type": "debugpy",
            "request": "launch",
            "program": "mayo_spindles/tex_table_export.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "--data", "hdf5_data_corrected",
                "--model", "sd-mayoieeg-val_f_measure_avg-0.63087-simplified.onnx"
            ]
        },
        {
            "name": "Export tex tables (ours, mediocre model)",
            "type": "debugpy",
            "request": "launch",
            "program": "mayo_spindles/tex_table_export.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "--data", "hdf5_data_corrected",
                "--model", "sd-mayoieeg-separate_bottleneck-val_f_measure_avg-0.61314-simplified.onnx"
            ]
        },
        {
            "name": "Export tex tables (ours, shbtnk 1)",
            "type": "debugpy",
            "request": "launch",
            "program": "mayo_spindles/tex_table_export.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "--data", "hdf5_data_corrected",
                "--model", "sd-mayoieeg-shared_bottleneck-val_f_measure_avg-0.68852-simplified.onnx",
                "--model_only"
            ]
        },
        {
            "name": "Export tex tables (ours, shbtnk 1, segboost)",
            "type": "debugpy",
            "request": "launch",
            "program": "mayo_spindles/tex_table_export.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "--data", "hdf5_data_corrected",
                "--model", "sd-mayoieeg-shared_bottleneck-val_f_measure_avg-0.68852-simplified.onnx",
                "--model_only",
                "--segmentation_boost"
            ]
        },
        {
            "name": "Export tex tables (ours, shbtnk 2)",
            "type": "debugpy",
            "request": "launch",
            "program": "mayo_spindles/tex_table_export.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "--data", "hdf5_data_corrected",
                "--model", "sd-mayoieeg-shared_bottleneck-val_f_measure_avg-0.69231-simplified.onnx",
                "--model_only"
            ]
        },
        {
            "name": "Export tex tables (ours, shbtnk 2, segboost)",
            "type": "debugpy",
            "request": "launch",
            "program": "mayo_spindles/tex_table_export.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "--data", "hdf5_data_corrected",
                "--model", "sd-mayoieeg-shared_bottleneck-val_f_measure_avg-0.69231-simplified.onnx",
                "--model_only",
                "--segmentation_boost"
            ]
        },
        {
            "name": "Export tex tables (DREAMS)",
            "type": "debugpy",
            "request": "launch",
            "program": "mayo_spindles/tex_table_export.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "--data", "DREAMS_HDF5",
                "--model", "sd-dreams-val_f_measure_avg-0.75188-simplified.onnx",
                "--annotator_spec", "any"
            ]
        },
        {
            "name": "Dreams to HDF5",
            "type": "debugpy",
            "request": "launch",
            "program": "mayo_spindles/dreams_to_hdf5.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "--seed", "42",
            ]
        },
        {
            "name": "Tag and export MEFD (val)",
            "type": "debugpy",
            "request": "launch",
            "program": "mayo_spindles/tag_and_export_mefd.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "--data", "hdf5_data",
                "--model", "sd-mayoieeg-val_f_measure_avg-0.63087-simplified.onnx",
                "--split", "val",
                "--output", "annotations_v2_val"
            ]
        },
        {
            "name": "Tag and export MEFD (test)",
            "type": "debugpy",
            "request": "launch",
            "program": "mayo_spindles/tag_and_export_mefd.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "--data", "hdf5_data",
                "--model", "sd-mayoieeg-val_f_measure_avg-0.63087-simplified.onnx",
                "--split", "test",
                "--output", "annotations_v2_test"
            ]
        },
        {
            "name": "Load corrected annotations (val)",
            "type": "debugpy",
            "request": "launch",
            "program": "mayo_spindles/activelearning_load.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "--data", "annotations_v2_val",
                "--split", "val",
                "--source_dataset", "hdf5_data",
                "--annotations", "annotations_v2_val/annotations_corrected_val.xml",
                "--output", "hdf5_data_corrected_val",
            ]
        },
        {
            "name": "Load corrected annotations (test | val)",
            "type": "debugpy",
            "request": "launch",
            "program": "mayo_spindles/activelearning_load.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "--data", "annotations_v2_test",
                "--split", "test",
                "--source_dataset", "hdf5_data_corrected_val",
                "--annotations", "annotations_v2_test/annotations_corrected_test.xml",
                "--output", "hdf5_data_corrected",
            ]
        },
        {
            "name": "Optuna studies summary",
            "type": "debugpy",
            "request": "launch",
            "program": "mayo_spindles/optuna_studies_summary.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "env": {
                "POSTGRES_PW": "31optuna42rocks",
            }
        },
        {
            "name": "Download latest models (30 -> onnx_models)",
            "type": "debugpy",
            "request": "launch",
            "program": "mayo_spindles/download_wandb_models.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "-n", "30",
                "-o", "onnx_models",
                "--force_overwrite"
            ]
        },
        {
            "name": "Compare latest models (30, onnx_models, ours)",
            "type": "debugpy",
            "request": "launch",
            "program": "mayo_spindles/compare_wandb_models.py",
            "console": "integratedTerminal",
            "justMyCode": false,
        },
        {
            "name": "Export tex tables (ours, val, best shb)",
            "type": "debugpy",
            "request": "launch",
            "program": "mayo_spindles/tex_table_export.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "--data", "hdf5_data_corrected",
                "--model", "onnx_models\\cool-pyramid-2750-shared_bottleneck-val_f_measure_avg-0.69281-simplified.onnx",
                "--model_only",
                "--draw_plots",
                // "--draw_auc_ap",
                "--split", "val"
            ]
        },        
        {
            "name": "Export tex tables (ours, val, best det_only)",
            "type": "debugpy",
            "request": "launch",
            "program": "mayo_spindles/tex_table_export.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "--data", "hdf5_data_corrected",
                "--model", "sd-mayoieeg-detection_only-val_f_measure_avg-0.70552-simplified.onnx",
                "--model_only",
                "--draw_plots",
                // "--draw_auc_ap",
                "--split", "val"
            ]
        },
    ]
}
